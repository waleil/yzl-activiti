#### activiti 预言

|模块|内容|工时|
|:----:|:----:|:----:|
|环境搭建|springcloud + mysql|1天|
|表结构|activiti相关表熟悉|0.5天|
|简单流程相关自研|流程创建、生成bpmn文件、部署流程、流程查看、流程启动、执行任务、办理人查看当前任务、完成任务、repositoryService|2天|
|任务模块相关自研|任务相关功能 taskService|1天|
|节点模块相关自研|节点相关功能 如何获取上一节点、下一节点信息|1天|
|历史记录相关自研|历史记录相关功能 historyService 代办 已办等功能|1天|
|网关相关自研|网关相关功能 并行 串行 |1天|
|权限相关自研|activiti整合Security、如何引入ehr现有权限|2天|
|审批完回调|方案|1天|
|网关校验|访问权限、规则制定、返回参数结构|1天|






#### 结构
前后端分离 后端提供流程存储（保存bpmn文件和png文件） 
![img_4.png](img_4.png)

前端可以使用 https://www.imooc.com/article/283643
演示地址 https://bpmn.52itstyle.vip/

后端使用 activiti(7) + mysql(5.1.8) + redis 

activiti功能

后端需要提供接口

模型管理 (生成bpmn, 预览)  
流程相关 (流程创建 流程配置 流程编辑 流程查询 流程删除 创建子任务) 
节点属性 (创建节点 编辑节点属性 节点查询 删除节点)
任务相关 (查看任务、转交、插入、驳回、作废、指派一下代理人、完成 查看自己办理过的任务以及流程信息、流程图、流程状态(作废 驳回 正常完成)) 本人是审批人
        (创建 编辑 保存 提交 撤销 删除 查看任务) 本人是申请人 
历史记录 (查看流程信息、流程用时、流程状态、查看任务发起人信息) 
权限管理 (组织架构 权限 角色 分组 部门 人员信息)  

业务相关 (网关校验, 防止重复提交, 分布式锁到提交, 生成唯一id)

联调 

测试